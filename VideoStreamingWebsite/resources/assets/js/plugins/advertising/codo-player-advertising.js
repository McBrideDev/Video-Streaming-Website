/*
    Codo Player Advertising Plugin 2.0
    codoplayer.com

    Licensed domain: N/A (for testing only)

    Date: 16 06 2015

    Copyright (C) Donato Software House
*/

!function(){"use strict";function e(e){var t=null;return e.data&&e.data.replace(/^\s+/,"").replace(/\s+$/,"").length>0?t=e.data.replace(/^\s+/,"").replace(/\s+$/,""):e.childNodes[0]&&e.childNodes[0].data&&e.childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"").length>0&&(t=e.childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"")),t}function t(e){if(e){var t;if(window.DOMParser){var i=new DOMParser;try{t=i.parseFromString(e,"text/xml")}catch(n){return void Codo().log("Xml2Doc: XML parsing error.")}}else{if("undefined"==typeof ActiveXObject)return void Codo().log("Xml2Doc: Cannot create XMLDocument object");ids=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"];for(var o=0,a=ids.length;a>o;++o)try{t=new ActiveXObject(ids[o]);break}catch(n){}if(!t)return void Codo().log("Xml2Doc: Cannot create XMLDocument object");if(t.loadXML(e),t.parseError&&0!==t.parseError.errorCode)return void Codo().log("Xml2Doc: XML Parsing Error: "+t.parseError.reason+" at line "+t.parseError.line+" at position "+t.parseError.linepos);t.documentElement?"parsererror"==t.documentElement.nodeName&&Codo().log("Xml2Doc: "+t.documentElement.childNodes[0].nodeValue):Codo().log("Xml2Doc: XML Parsing Error")}return t}}var i=function(i){function n(){function e(){if(o.isAd){var e=Math.round(i.media.getDuration()-i.media.getCurrentTime());e&&(s.innerHTML=t.replace("%time%",e))}}var t=i.plugins.advertising.timerText||"Your video will play in %time% s.",n=i.plugins.advertising.skipAd&&i.plugins.advertising.skipAd.text?i.plugins.advertising.skipAd.text:"Skip",r=Codo(i.DOM.containerScreen).add({el:"div",id:i.id+"-ad-click-space",className:i.className+"-ad-click-space",style:"position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: none;"});Codo(r).on("click",function(e){a.currentSlot&&a.currentSlot.link&&(i.media.pause(),window.top.open(a.currentSlot.link,"_blank"),d.onClick())});var s=Codo(r).add({el:"p",id:i.id+"-ad-timer",className:i.className+"-ad-timer"}),l=Codo(r).add({el:"div",id:i.id+"-ad-skip-button",className:i.className+"-ad-skip-btn",style:"display: none",innerHTML:n});return Codo(l).on("click",function(e){d.onSkip()}),{show:function(){"VAST"==i.plugins.advertising.type&&(i.DOM.overlay.style.display="none",r.style.display="block")},hide:function(){i.DOM.overlay.style.display="block",r.style.display="none",this.hideSkip()},setTimerText:function(e){t=e},setTimeLeft:function(){e()},showSkip:function(){l.style.display="block"},hideSkip:function(){l.style.display="none"},setText:function(e){e=e}}}var o,a,r,s,l=function(){function e(e){var s=e.extensions.getElementsByTagName("Extension");i.plugins.advertising.type="NonLinear";var c=e.NonLinear.getAttribute("width"),g=e.NonLinear.getAttribute("height");if((300>c||200>g)&&(c="auto",g="auto"),c=c<=i.settings.currentWidth?c:i.settings.currentWidth,g=g<=i.settings.currentHeight?g:i.settings.currentHeight,t=Codo(i.DOM.container).add({el:"div",className:i.className+"-ad-nonlinear-parent",style:"position: absolute; top: "+(i.settings.currentHeight/2-g/2)+"px; left: "+(i.settings.currentWidth/2-c/2)+"px; width: "+c+"px; height: "+g+"px; display: none;"}),s&&s[0].getElementsByTagName("ConversionUrl")){Codo(t).add({el:"img",src:s[0].getElementsByTagName("ConversionUrl")[0].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,""),style:"position: absolute;"})}switch(n=Codo(t).add({el:"div",className:i.className+"-ad-nonlinear-header"}),o=Codo(n).add({el:"a",className:i.className+"-ad-nonlinear-header",href:s[0].getElementsByTagName("attribution_url")[0].getAttribute("data"),target:"_blank",innerHTML:s[0].getElementsByTagName("attribution_text")[0].getAttribute("data")||"Advertisement"}),a=Codo(n).add({el:"div",className:i.className+"-ad-nonlinear-close-btn",innerHTML:"&#10005;"}),r=Codo(t).add({el:"a",href:e.NonLinear.getElementsByTagName("NonLinearClickThrough")[0].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,""),target:"_blank"}),e.mime){case"image/jpeg":case"image/gif":case"image/png":d=Codo(r).add({el:"img",id:i.id+"-ad-nonlinear",src:e.source,width:c,height:g});break;case"application/x-shockwave-flash":d=Codo(r).add({el:"div",id:i.id+"-ad-nonlinear",innerHTML:"<object width='"+c+"' height='"+g+"' type='application/x-shockwave-flash' data='"+e.source+"'><param name='movie' value='"+e.source+"'><param name='quality' value='high'><param name='allowScriptAccess' value='always'><param name='wmode' value='transparent'><param name='swliveconnect' value='true'></object>"});break;case"text":d=Codo(r).add({el:"div",id:i.id+"-ad-nonlinear",style:"padding: 10px;"}),t.style.height="auto";for(var u=0;u<s[1].getElementsByTagName("*").length;u++)d.innerHTML+=s[1].getElementsByTagName("*")[u].innerHTML}Codo(a).on("click",function(e){l.destroy(this)})}var t,n,o,a,r,d,c=!1;return{setFirstSkip:function(e){c=e},getFirstSkip:function(){return c},init:function(t){e(t)},show:function(){t&&(t.style.display="block")},hide:function(e){e.parentNode.parentNode&&(e.parentNode.parentNode.style.display="none")},destroy:function(){s=void 0,t&&(t=Codo(t).remove())}}}(),d=function(){var n,s={};return{init:function(){this.initURL(),this.initPlayerEvents()},initURL:function(e){var t=this;o&&o.schedule&&o.schedule.length&&o.servers&&o.servers.length&&(s={enabled:o.skipAd&&o.skipAd.enabled?o.skipAd.enabled:!1,timeout:o.skipAd&&o.skipAd.timeout?o.skipAd.timeout:5},a.tempTime=0,a.adList=[],a.mainTrack=i.playlist.getCurrentClip(),a.currentSlot=null,a.source=e||o.servers[0].apiAddress,a.muted=i.settings.volume?!1:!0,o.isAd=o.clipAfterAd=!1,Codo().load({url:a.source,contentType:"text/xml;charset=UTF-8"},function(e,i){var n=i.api,o=i.system;"error"!=e?t.constructAdList(e):Codo().isFlash()?Codo(n.DOM.parent).add({el:"div",style:"position: absolute",innerHTML:"<object name='cors' width='1' height='1' type='application/x-shockwave-flash' data='"+n.system.rootPath+"plugins/advertising/cors.swf'><param name='movie' value='"+n.system.rootPath+"plugins/advertising/cors.swf'><param name='quality' value='high'><param name='allowScriptAccess' value='always'><param name='wmode' value='transparent'><param name='swliveconnect' value='true'><param name='flashVars' value='instance="+n.instance+"&vast="+escape(o.source)+"'></object>"}):t.adsError()},{api:i,system:a}))},initXML:function(e){this.constructAdList(e)},adsError:function(){var e=this,t=a.source,i=location.protocol,n=location.hostname,o=RegExp(i+"//"+n),r="select * from xml where url='"+t+"'",s="http"+(/^https/.test(i)?"s":"")+"://query.yahooapis.com/v1/public/yql?format=xml&q="+r;!o.test(t)&&/:\/\//.test(t)&&Codo().load({url:s},function(t){e.constructAdList(t)})},constructAdList:function(r){var s=this;o.logging&&(Codo().log("\nCODO PLAYER ADVERTISING PLUGIN (LOGGING)"),Codo().log("--------------------"),Codo().log("Plugin object\n-"),Codo().log(o),Codo().log("--------------------")),r=t(r),o.logging&&(Codo().log("XML loaded\n-"),Codo().log(r),Codo().log("--------------------"),Codo().log("VAST template\n-")),this.setPosition();try{var c=r.getElementsByTagName("VAST")[0].getAttribute("version");o.system.handShakeVersion=c,o.logging&&Codo().log("handShakeVersion: "+c)}catch(g){o.logging&&Codo().log("Warning (VAST version not found): "+g)}o.logging&&Codo().log("--------------------");var u=r.getElementsByTagName("Ad");if(!u.length)return void(o.logging&&Codo().log("Error: No 'Ad' tag found."));for(var p=u[0],m=0;m<a.adList.length;m++){o.logging&&Codo().log("AD "+m+"\n-");try{var h=p.getAttribute("id");a.adList[m].id=h,o.logging&&Codo().log("ID: "+h)}catch(g){o.logging&&Codo().log("Error (ID not found): "+g)}try{var v=p.getElementsByTagName("AdSystem")[0].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"");a.adList[m].adSystem=v,o.logging&&Codo().log("AdSystem: "+v)}catch(g){o.logging&&Codo().log("Warning (AdSystem not found): "+g)}try{var f=p.getElementsByTagName("AdTitle")[0].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"");a.adList[m].adTitle=f,o.logging&&Codo().log("AdTitle: "+f)}catch(g){o.logging&&Codo().log("Warning (AdTitle not found): "+g)}try{for(var y=p.getElementsByTagName("Impression"),C=0,A=y.length;A>C;++C)for(var N=0,S=y[C].childNodes.length;S>N;++N){var T=y[C].childNodes[N].data.replace(/^\s+/,"").replace(/\s+$/,"");T&&a.adList[m].impression.push(T)}}catch(g){o.logging&&Codo().log("Warning (impression): "+g)}try{for(var k=p.getElementsByTagName("MediaFiles")[0],L=k.getElementsByTagName("MediaFile"),C=0,A=L.length;A>C;++C)try{for(var N=0,S=L[C].childNodes.length;S>N;++N){var E=null;if(L[C].childNodes[N].data&&L[C].childNodes[N].data.replace(/^\s+/,"").replace(/\s+$/,"").length>0?E=L[C].childNodes[N].data.replace(/^\s+/,"").replace(/\s+$/,""):L[C].childNodes[N].childNodes[0]&&(E=L[C].childNodes[N].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"")),E&&0!==E.length){var w=L[0].getAttribute("type"),P=L[0].getAttribute("apiFramework");a.adList[m].VPAID="VPAID"==P||"application/x-shockwave-flash"===w?L:void 0,a.adList[m].source=E,a.adList[m].mime=w,o.logging&&Codo().log("MediaFile: "+E)}}}catch(g){o.logging&&Codo().log("Error (mediaFound): "+g)}}catch(g){o.logging&&Codo().log("Error (mediaFiles): "+g)}try{var b=p.getElementsByTagName("NonLinear")[0],D=b.getElementsByTagName("StaticResource")[0],M=p.getElementsByTagName("Extensions")[0];a.adList[m].NonLinear=b,a.adList[m].extensions=M,a.adList[m].source=D.childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,""),a.adList[m].mime=D.getAttribute("creativeType"),a.adList[m].source&&(l.init(a.adList[m]),"pre-roll"===a.adList[0].type&&l.show()),this.removeCover()}catch(g){o.logging&&Codo().log("Warning (nonLinear not found): "+g)}try{var x=p.getElementsByTagName("AdParameters");a.adList[m].adParameters=x[0].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"")}catch(g){o.logging&&Codo().log("Warning (adParameters not found): "+g)}try{for(var I=p.getElementsByTagName("TrackingEvents")[0],V=I.getElementsByTagName("Tracking"),C=0,A=V.length;A>C;++C){var B=V[C].getAttribute("event");if(B)for(var N=0,S=V[C].childNodes.length;S>N;++N){var O=null;V[C].childNodes[N].data&&V[C].childNodes[N].data.replace(/^\s+/,"").replace(/\s+$/,"").length>0?O=V[C].childNodes[N].data.replace(/^\s+/,"").replace(/\s+$/,""):V[C].childNodes[N]&&V[C].childNodes[N].childNodes[0]&&V[C].childNodes[N].childNodes[0].data&&V[C].childNodes[N].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"")&&(O=V[C].childNodes[N].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"")),O&&(a.adList[m].events[B.toLowerCase()]||(a.adList[m].events[B.toLowerCase()]=[]),a.adList[m].events[B.toLowerCase()].push(O))}}}catch(g){o.logging&&Codo().log("Warning (trackingEvents not found): "+g)}try{for(var $=p.getElementsByTagName("VideoClicks")[0],R=$.getElementsByTagName("ClickThrough")[0],C=0,A=R.childNodes.length;A>C;++C){var F=null;R.childNodes[C].data&&R.childNodes[C].data.replace(/^\s+/,"").replace(/\s+$/,"").length>0?F=R.childNodes[C].data.replace(/^\s+/,"").replace(/\s+$/,""):R.childNodes[C].childNodes[0]&&R.childNodes[C].childNodes[0].data&&R.childNodes[C].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"").length>0&&(F=R.childNodes[C].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"")),F&&(0===F.toUpperCase().indexOf("HTTP://")||0===F.toUpperCase().indexOf("HTTPS://"))&&(a.adList[m].link=F)}for(var H=$.getElementsByTagName("ClickTracking"),C=0,A=H.length;A>C;++C)for(var N=0,S=H[C].childNodes.length;S>N;++N){var X=H[C].childNodes[N].data.replace(/^\s+/,"").replace(/\s+$/,"");X&&a.adList[m].clickEvents.push(X)}}catch(g){o.logging&&Codo().log("Warning (videoClicks not found): "+g)}try{var W=p.getElementsByTagName("Companion");if(W){a.adCompanionList=[];for(var j=0;j<W.length;j++){var U,q,z=W[j].getElementsByTagName("StaticResource"),Q=W[j].getElementsByTagName("CompanionClickThrough");if(!z||!Q)return!1;U=z[0],q=Q[0];var _=e(U),G=e(q);if(a.adCompanionList.push({source:_,click:G}),Codo(".codo-player-ad-companion-"+j).get()){Codo(".codo-player-ad-companion-"+j).get().innerHTML="";var Y=Codo(".codo-player-ad-companion-"+j).add({el:"a",href:G,target:"_blank"}),J=W[j].getAttribute("width"),K=W[j].getAttribute("height");"application/x-shockwave-flash"===z[0].getAttribute("creativeType")?Y.innerHTML="<object width='"+J+"' height='"+K+"' type='application/x-shockwave-flash' data='"+_+"'><param name='movie' value='"+_+"'><param name='quality' value='high'><param name='allowScriptAccess' value='always'><param name='wmode' value='transparent'><param name='swliveconnect' value='true'></object>":"image/jpeg"===z[0].getAttribute("creativeType")&&Codo(Y).add({el:"img",src:_,width:J,height:K}),Codo(Y).on("click",function(e){e.preventDefault(),s.callEvent(G),window.top.open(G,"_blank")})}}}}catch(g){o.logging&&Codo().log("Warning (companionAds not found): "+g)}try{var Z=p.getElementsByTagName("VASTAdTagURI")[0].childNodes[0].data.replace(/^\s+/,"").replace(/\s+$/,"");Z&&a.loadRedirectURL(Z)}catch(g){o.logging&&Codo().log("Warning (redirectUrl not found): "+g)}}o.logging&&(Codo().log("--------------------"),Codo().log("Loading AD content\n-")),n=!0,i.plugins.advertising.autoplay&&"pre-roll"===a.adList[0].type&&d.checkSlot(),a.adList&&!a.adList[0].source&&d.removeCover()},removeCover:function(){i.plugins.advertising.initCover&&(Codo(i.plugins.advertising.initCover).remove(),i.plugins.advertising.initCover=null)},setPosition:function(){var e=this;for(var t in o.schedule)switch(o.schedule[t].position){case"pre-roll":var r=this.adSlot("pre-roll",0);a.adList.push(r),i.plugins.advertising.autoplay||Codo(i.plugins.advertising.initCover).on("click",function(t){n&&(d.checkSlot(),e.removeCover())});break;case"mid-roll":var r=this.adSlot("mid-roll",this.convertTime(o.schedule[t].startTime));a.adList.push(r),e.removeCover();break;case"post-roll":var r=this.adSlot("post-roll",-1);a.adList.push(r),e.removeCover();break;case"auto:bottom":var r=this.adSlot("auto:bottom",this.convertTime(o.schedule[t].startTime));a.adList.push(r),e.removeCover()}},adSlot:function(e,t){var i={};return i.type=e,i.time=t,i.source="",i.mime="",i.seen=!1,i.impression=[],i.events={},i.link="",i.clickEvents=[],i},convertTime:function(e){return 3600*e.substr(0,1)+60*e.substr(3,2)+1*e.substr(6,2)},callEvent:function(e){if(0===e.toUpperCase().indexOf("HTTP://")){var t=Math.round(1e5*Math.random()),n=document.createElement("img");n.style.visibility="hidden",n.style.position="absolute",n.style.width="0",n.style.height="0",n.src=e+(e.indexOf("?")>0?"&":"?")+"r"+t+"="+t,i.DOM.containerScreen.appendChild(n)}},slotCurrentTime:function(e){for(var t in a.adList)if(!a.adList[t].seen&&a.adList[t].time==e)return a.adList[t];return null},setPostRoll:function(){for(var e in a.adList)"post-roll"==a.adList[e].type&&(a.adList[e].time=Math.floor(i.media.getDuration()))},initPlayerEvents:function(){var e=this;i.media.onProgress(function(){o.isAd?e.onProgress():e.checkSlot(),r.setTimeLeft()}),i.media.onMetaData(function(){!o.isAd&&o.clipAfterAd?(i.playlist.getCurrentClip().rtmp||i.media.setCurrentTime(a.tempTime),i.media.play(),a.tempTime=0):o.isAd&&(i.media.play(),e.onStart()),e.setPostRoll(),r.setTimeLeft()}),i.media.onClipFirstQuarter(function(){o.isAd&&e.onFirstQuartile()}),i.media.onClipSecondQuarter(function(){o.isAd&&e.onMidPoint()}),i.media.onClipThirdQuarter(function(){o.isAd&&e.onThirdQuartile()}),i.media.onBeforeLoad(function(){!o.isAd&&o.clipAfterAd&&(o.clipAfterAd=!1)}),i.media.onLoad(function(){o.isAd?r.show():r.hide()}),i.media.onEnd(function(){o.isAd&&(e.onComplete(),e.resumeClip())}),i.media.onCuepoint(function(){o.isAd&&o.skipAd&&o.skipAd.enabled&&o.skipAd.timeout&&i.media.getCurrentTime()&&r.showSkip()}),i.media.onPlay(function(){o.isAd&&e.onPlay()}),i.media.onPause(function(){o.isAd&&e.onPause()}),i.media.onVolumeChange(function(){o.isAd&&e.onMute()}),i.media.onFullScreenEnter(function(){o.isAd&&e.onFullScreenEnter()}),i.media.onFullScreenExit(function(){o.isAd&&e.onFullScreenExit()}),i.media.onError(function(){o.isAd&&(o.fallback?(o.fallback(i),a.currentSlot=null,i.settings.controls.seeking=!0,o.isAd=!1,o.clipAfterAd=!0):e.resumeClip())})},resumeClip:function(){a.currentSlot=null,i.settings.controls.seeking=!0,a.tmpPlaylist&&i.playlist.set(a.tmpPlaylist.clips,"autoplay",a.tmpPlaylist.index||"0"),o.isAd=!1,o.clipAfterAd=!0},checkSlot:function(){var e=this,t=this.slotCurrentTime(Math.floor(i.media.getCurrentTime()));if(t){if(a.tempTime=i.media.getCurrentTime(),t.seen=!0,!t.source)return;if(t.NonLinear)o.logging&&Codo().log("Serving NonLinear Ad"),"pre-roll"!=t.type||l.getFirstSkip()?l.show():l.setFirstSkip(!0),i.plugins.advertising.autoplay&&i.media.play();else if(t.VPAID){o.logging&&Codo().log("Serving VPAID Ad"),i.plugins.advertising.type="VPAID";var n=t.VPAID[0].getAttribute("width"),r=t.VPAID[0].getAttribute("height"),d=t.VPAID[0].getAttribute("type");n=n<=i.settings.currentWidth?n:i.settings.currentWidth,r=r<=i.settings.currentHeight?r:i.settings.currentHeight;var c=Codo(i.DOM.container).add({el:"div",style:"position: absolute; top: "+(i.settings.currentHeight/2-r/2)+"px; left: "+(i.settings.currentWidth/2-n/2)+"px; width: "+n+"px; height: "+r+"px;",innerHTML:"<object id='"+i.id+"-VPAID-swf' type='"+d+"' data='"+i.system.rootPath+"plugins/advertising/VPAID.swf' width='"+n+"' height='"+r+"'><param name='movie' value='"+i.system.rootPath+"plugins/advertising/VPAID.swf'><param name='quality' value='high'><param name='allowScriptAccess' value='always'><param name='swliveconnect' value='true'><param name='wmode' value='window'><param name='flashVars' value='instance="+i.instance+"&logging="+i.plugins.advertising.logging+"'></object>"});i.plugins.advertising.VPAIDLoaded=function(){e.removeCover(),o.isAd=!0;var a=Codo("#"+i.id+"-VPAID-swf").get()[0];a.setAd(n,r,t.source,t.adParameters,i.settings.volume,o.system.handShakeVersion),Codo(window).on("resize",i.plugins.advertising.VPAIDResize),i.media.pause()},i.plugins.advertising.VPAIDRemove=function(){i.media.play(),setTimeout(function(){Codo(c).remove(),Codo(window).off("resize",i.plugins.advertising.VPAIDResize),o.isAd=!1,o.clipAfterAd=!0},300)},i.plugins.advertising.VPAIDErrorRemove=function(){o.fallback?(o.fallback(i),Codo(c).remove(),Codo(window).off("resize",i.plugins.advertising.VPAIDResize),o.isAd=!1,o.clipAfterAd=!0):i.plugins.advertising.VPAIDRemove()},i.plugins.advertising.VPAIDResize=function(){c.style.top=i.settings.currentHeight/2-r/2+"px",c.style.left=i.settings.currentWidth/2-n/2+"px"}}else{o.logging&&Codo().log("Serving VAST Ad"),i.plugins.advertising.type="VAST",e.removeCover(),a.currentSlot=t,a.tmpPlaylist={clips:function(){return i.playlist.clips}(),index:function(){return i.playlist.currentIndex}()},i.settings.controls.seeking=!1,o.isAd=!0;var g,u,p=!1;if(t.source.search("rtmp://")>-1){p=!0;var m=t.source.split(":");u="mp4:"+m[m.length-1],g=t.source.replace(u,"")}i.settings.preload=!0,i.play({src:p?u:t.source,title:o.title||"Advertisement",cuepoints:[s.timeout],engine:"auto",rtmp:p?g:void 0},i.plugins.advertising.autoplay),e.onStart(),this.onImpression()}e.setPostRoll()}},onImpression:function(){try{for(var e=0;e<a.currentSlot.impression.length;e++)this.callEvent(a.currentSlot.impression[e])}catch(t){}},onStart:function(){try{for(var e=0;e<a.currentSlot.events.start.length;e++)this.callEvent(a.currentSlot.events.start[e])}catch(t){}},onFirstQuartile:function(){try{for(var e=0;e<a.currentSlot.events.firstquartile.length;e++)this.callEvent(a.currentSlot.events.firstquartile[e]);a.currentSlot.events.firstquartile=[]}catch(t){}},onMidPoint:function(){try{for(var e=0;e<a.currentSlot.events.midpoint.length;e++)this.callEvent(a.currentSlot.events.midpoint[e]);a.currentSlot.events.midpoint=[]}catch(t){}},onThirdQuartile:function(){try{for(var e=0;e<a.currentSlot.events.thirdquartile.length;e++)this.callEvent(a.currentSlot.events.thirdquartile[e]);a.currentSlot.events.thirdquartile=[]}catch(t){}},onComplete:function(){try{for(var e=0;e<a.currentSlot.events.complete.length;e++)this.callEvent(a.currentSlot.events.complete[e])}catch(t){}},onMute:function(){try{if(i.media.getVolume()){if(a.muted)for(var e=0;e<a.currentSlot.events.unmute.length;e++)this.callEvent(a.currentSlot.events.unmute[e]);a.muted=!1}else{for(var e=0;e<a.currentSlot.events.mute.length;e++)this.callEvent(a.currentSlot.events.mute[e]);a.muted=!0}}catch(t){}},onPlay:function(){try{for(var e=0;e<a.currentSlot.events.resume.length;e++)this.callEvent(a.currentSlot.events.resume[e])}catch(t){}},onPause:function(){try{for(var e=0;e<a.currentSlot.events.pause.length;e++)this.callEvent(a.currentSlot.events.pause[e])}catch(t){}},onFullScreenEnter:function(){try{for(var e=0;e<a.currentSlot.events.fullscreen.length;e++)this.callEvent(a.currentSlot.events.fullscreen[e])}catch(t){}},onFullScreenExit:function(){try{for(var e=0;e<a.currentSlot.events.exitfullscreen.length;e++)this.callEvent(a.currentSlot.events.exitfullscreen[e])}catch(t){}},onSkip:function(){try{for(var e=0;e<a.currentSlot.events.skip.length;e++)this.callEvent(a.currentSlot.events.skip[e])}catch(t){}this.resumeClip()},onProgress:function(){try{for(var e=0;e<a.currentSlot.events.progress.length;e++)this.callEvent(a.currentSlot.events.progress[e])}catch(t){}},onClick:function(){try{for(var e=0;e<a.currentSlot.clickEvents.length;e++)this.callEvent(a.currentSlot.clickEvents[e])}catch(t){}}}}();return{init:function(e,t){i=e,o=i.plugins.advertising,a=o.system,r=n(),d.init()},loadRedirectURL:function(e){d.initURL(e)},loadXML:function(e,t){i=CodoPlayerAPI[e],d.initXML(t)}}};if(!CodoPlayerAPI[0].plugins.advertising.inited){CodoPlayerAPI[0].plugins.advertising.inited=!0;for(var n=0;n<CodoPlayerAPI.length;n++){var o=CodoPlayerAPI[n];o.plugins&&o.plugins.advertising&&(Codo().link(o.system.rootPath+"plugins/advertising/styles/style.css"),CodoPlayerAPI[n].plugins.advertising.system=new i(o))}}}();